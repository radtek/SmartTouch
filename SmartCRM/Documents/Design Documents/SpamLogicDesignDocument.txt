Design Document for NEXG - 1922

Description:- Spam Logic for Form Submissions

Impact Analysis:- No

Database Design:- 
I am Using 3 tables

1)SpamIPAddresses			
SpamIPAddressID (Int)	IPAddress (Binary(4))	IsSpam (Bit)	AccountID (INT)
	
2)SpamKeyWords	
SpamKeyWordID(int)	Value(varchar(max))

3)SpamValidators					
SpamValidatorID (TinyInt)	Validator (VARCHAR(30))	Value  (VARCHAR(MAX))	AccountID (INT)	RunValidation (Bit)	Order (Int)
			1	InternalSpamIPCheck	NULL			NULL		1			1
			2	SpamIPAPICheck	NULL	NULL					1			2
			3	SubmissionIPLimit			2	NULL		1			3
			4	EmailValidation		{firstname}.{lastname}	NULL		1			4
			5	SpamKeyWordCheck	NULL	                NULL		1			5
			6	RepeatedValueCheck	3	                NULL		1			6
			7	InvalidDatatypeCheck	NULL	                NULL		1			7


Methods:- 
1)public bool SpamCheck(IDictionary<string,string> fields, int accountId,string IPAddress);
2)public int GettingFormIPSubmissionCount(int accountId, string ipAddress);
3)public bool CheckForSpamIP(string ipAddress, int accountId);
4)public IEnumerable<SpamValidator> GetAllSpamValidators(int accountId);

New Objects:
New Column is added to SubmittedFormData ( Remarks varchar(125))

Entitlements: NO

