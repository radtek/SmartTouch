@using SmartTouch.CRM.ApplicationServices.ViewModels

@model LeadScoreRuleViewModel

@*<script src="~/Scripts/ViewModels/LeadScoreListViewModel.js"></script>*@

@Scripts.Render("~/bundles/leadscorelistviewmodel")

<div id="changescore1">
    <div class="drop-heading">
        <span class="icon st-icon-database-add display-inline"></span> <h4 class="panel-title display-inline plm">[|Change Score|]</h4>
    </div>
    <div class="dp-topnav-inner-body">
        <div class="row">
            <div class="form-group col-md-6">
                <label class="control-label bold">[|Category|]</label>
                <label class="control-label" data-bind="text:Category.Name"></label>
            </div>
            <div class="form-group col-md-6">
                <label class="control-label bold">[|Condition|]</label>
                <label class="control-label" data-bind="text:Condition.Name"></label>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-6">
                <label class="control-label">[|Points|] <span class="required">*</span></label>
                <input type="text" placeholder="100" class="form-control" data-bind="value:Score">
            </div>
            <div class="form-group col-md-6" style="padding-top:20px;display:none">
                <label data-bind="attr: {'class': AppliedToPreviousActions() ?'checkbox checked':'checkbox' }">
                    <input type="checkbox" data-toggle="checkbox" data-bind="checked: AppliedToPreviousActions, click: setAppliesToPrevious" />&nbsp;
                    <label>[|Apply to Previous Actions|]?</label>
                </label>
            </div>
        </div>
    </div>

    <div class="panel-footer">
        <div class="pull-left">
            <a class="btn btn-lg btn-primary" data-bind="click: changeLeadScore">[|Save|]</a>
            <a href="javascript:void(0)" class="btn btn-lg" onclick="CloseTopInner(this)" data-original-title="" title="">[|Cancel|]</a>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        appendCheckbox();
        $(':checkbox').on('change', function() {
            $(this).triggerHandler('click');
        });
    });
</script>
